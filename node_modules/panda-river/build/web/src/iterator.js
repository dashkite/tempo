var create, define, isDone, isIterable, isIterator, iterator, next, value;
import { identity, curry } from "panda-garden";
import Method from "panda-generics";
import { isKind, isFunction, isGeneratorFunction } from "panda-parchment";
({
  create,
  define
} = Method);

isIterable = function (x) {
  return isFunction(x != null ? x[Symbol.iterator] : void 0) || isGeneratorFunction(x);
};

isIterator = function (x) {
  return isFunction(x != null ? x.next : void 0) && isIterable(x);
};

iterator = create({
  name: "iterator",
  description: "produces an iterator from an input",
  default: "unable to create iterator from value"
});
define(iterator, isFunction, function (f) {
  return {
    next: f,
    [Symbol.iterator]: function () {
      return this;
    }
  };
});
define(iterator, isIterable, function (i) {
  return i[Symbol.iterator]();
});
define(iterator, isGeneratorFunction, function (g) {
  return g();
});
define(iterator, isIterator, function (i) {
  return i;
});

next = function (i) {
  return i.next();
};

value = function ({
  value
}) {
  return value;
};

isDone = function ({
  done
}) {
  return done;
};

export { isIterable, iterator, isIterator, next, value, isDone };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kYXZpZC9yZXBvcy9wYW5kYS1yaXZlci9zcmMvaXRlcmF0b3IuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLElBQUEsTUFBQSxFQUFBLE1BQUEsRUFBQSxNQUFBLEVBQUEsVUFBQSxFQUFBLFVBQUEsRUFBQSxRQUFBLEVBQUEsSUFBQSxFQUFBLEtBQUE7QUFBQSxTQUFBLFFBQUEsRUFBQSxLQUFBLFFBQUEsY0FBQTtBQUNBLE9BQUEsTUFBQSxNQUFBLGdCQUFBO0FBQ0EsU0FBQSxNQUFBLEVBQUEsVUFBQSxFQUFBLG1CQUFBLFFBQUEsaUJBQUE7QUFFQSxDQUFBO0FBQUEsRUFBQSxNQUFBO0FBQUEsRUFBQTtBQUFBLElBQUEsTUFBQTs7QUFFQSxVQUFBLEdBQWEsVUFBQSxDQUFBLEVBQUE7U0FDVixVQUFBLENBQUEsQ0FBQSxJQUFBLElBQUEsR0FBVyxDQUFHLENBQUEsTUFBTSxDQUFOLFFBQUEsQ0FBZCxHQUFjLEtBQWYsQ0FBQyxDQUFELElBQXFDLG1CQUFBLENBQUQsQ0FBQyxDO0FBRDFCLENBQWI7O0FBR0EsVUFBQSxHQUFhLFVBQUEsQ0FBQSxFQUFBO1NBQVEsVUFBQSxDQUFBLENBQUEsSUFBQSxJQUFBLEdBQVcsQ0FBQyxDQUFFLElBQWQsR0FBYyxLQUFmLENBQUMsQ0FBRCxJQUF5QixVQUFBLENBQUQsQ0FBQyxDO0FBQWhDLENBQWI7O0FBRUEsUUFBQSxHQUFXLE1BQUEsQ0FDVDtBQUFBLEVBQUEsSUFBQSxFQUFBLFVBQUE7QUFDQSxFQUFBLFdBQUEsRUFEQSxvQ0FBQTtBQUVBLEVBQUEsT0FBQSxFQUFTO0FBRlQsQ0FEUyxDQUFYO0FBS0EsTUFBQSxDQUFBLFFBQUEsRUFBQSxVQUFBLEVBQTZCLFVBQUEsQ0FBQSxFQUFBO1NBQzNCO0FBQUEsSUFBQSxJQUFBLEVBQUEsQ0FBQTtBQUNBLEtBQUMsTUFBTSxDQUFQLFFBQUEsR0FBbUIsWUFBQTthQUFHLEk7QUFBSDtBQURuQixHO0FBREYsQ0FBQSxDQUFBO0FBSUEsTUFBQSxDQUFBLFFBQUEsRUFBQSxVQUFBLEVBQTZCLFVBQUEsQ0FBQSxFQUFBO1NBQU8sQ0FBRSxDQUFBLE1BQU0sQ0FBUixRQUFFLENBQUYsRTtBQUFwQyxDQUFBLENBQUE7QUFFQSxNQUFBLENBQUEsUUFBQSxFQUFBLG1CQUFBLEVBQXNDLFVBQUEsQ0FBQSxFQUFBO1NBQU8sQ0FBQSxFO0FBQTdDLENBQUEsQ0FBQTtBQUVBLE1BQUEsQ0FBQSxRQUFBLEVBQUEsVUFBQSxFQUE2QixVQUFBLENBQUEsRUFBQTtTQUFPLEM7QUFBcEMsQ0FBQSxDQUFBOztBQUVBLElBQUEsR0FBTyxVQUFBLENBQUEsRUFBQTtTQUFPLENBQUMsQ0FBRCxJQUFBLEU7QUFBUCxDQUFQOztBQUNBLEtBQUEsR0FBUSxVQUFDO0FBQUQsRUFBQTtBQUFDLENBQUQsRUFBQTtTQUFhLEs7QUFBYixDQUFSOztBQUNBLE1BQUEsR0FBUyxVQUFDO0FBQUQsRUFBQTtBQUFDLENBQUQsRUFBQTtTQUFZLEk7QUFBWixDQUFUOztBQUVBLFNBQUEsVUFBQSxFQUFBLFFBQUEsRUFBQSxVQUFBLEVBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxNQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtpZGVudGl0eSwgY3Vycnl9IGZyb20gXCJwYW5kYS1nYXJkZW5cIlxuaW1wb3J0IE1ldGhvZCBmcm9tIFwicGFuZGEtZ2VuZXJpY3NcIlxuaW1wb3J0IHtpc0tpbmQsIGlzRnVuY3Rpb24sIGlzR2VuZXJhdG9yRnVuY3Rpb259IGZyb20gXCJwYW5kYS1wYXJjaG1lbnRcIlxuXG57Y3JlYXRlLCBkZWZpbmV9ID0gTWV0aG9kXG5cbmlzSXRlcmFibGUgPSAoeCkgLT5cbiAgKGlzRnVuY3Rpb24geD9bU3ltYm9sLml0ZXJhdG9yXSkgfHwgKGlzR2VuZXJhdG9yRnVuY3Rpb24geClcblxuaXNJdGVyYXRvciA9ICh4KSAtPiAoaXNGdW5jdGlvbiB4Py5uZXh0KSAmJiAoaXNJdGVyYWJsZSB4KVxuXG5pdGVyYXRvciA9IGNyZWF0ZVxuICBuYW1lOiBcIml0ZXJhdG9yXCJcbiAgZGVzY3JpcHRpb246IFwicHJvZHVjZXMgYW4gaXRlcmF0b3IgZnJvbSBhbiBpbnB1dFwiXG4gIGRlZmF1bHQ6IFwidW5hYmxlIHRvIGNyZWF0ZSBpdGVyYXRvciBmcm9tIHZhbHVlXCJcblxuZGVmaW5lIGl0ZXJhdG9yLCBpc0Z1bmN0aW9uLCAoZikgLT5cbiAgbmV4dDogZlxuICBbU3ltYm9sLml0ZXJhdG9yXTogLT4gQFxuXG5kZWZpbmUgaXRlcmF0b3IsIGlzSXRlcmFibGUsIChpKSAtPiBpW1N5bWJvbC5pdGVyYXRvcl0oKVxuXG5kZWZpbmUgaXRlcmF0b3IsIGlzR2VuZXJhdG9yRnVuY3Rpb24sIChnKSAtPiBnKClcblxuZGVmaW5lIGl0ZXJhdG9yLCBpc0l0ZXJhdG9yLCAoaSkgLT4gaVxuXG5uZXh0ID0gKGkpIC0+IGkubmV4dCgpXG52YWx1ZSA9ICh7dmFsdWV9KSAtPiB2YWx1ZVxuaXNEb25lID0gKHtkb25lfSkgLT4gZG9uZVxuXG5leHBvcnQge2lzSXRlcmFibGUsIGl0ZXJhdG9yLCBpc0l0ZXJhdG9yLCBuZXh0LCB2YWx1ZSwgaXNEb25lfVxuIl0sInNvdXJjZVJvb3QiOiIifQ==
//# sourceURL=/Users/david/repos/panda-river/src/iterator.coffee