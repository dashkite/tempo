var assert, f;
assert = require("assert");
import { test } from "amen";
import { iterator, next, value, isDone } from "../src/iterator";
import { isReagent, reactor, isReactor } from "../src/reactor";

f = async function* () {
  var ref, results, x;
  ref = [1, 2];
  results = [];

  for await (x of ref) {
    results.push((yield x));
  }

  return results;
};

export default [test("isReagent", function () {
  return assert(isReagent({
    [Symbol.asyncIterator]: function () {}
  }));
}), test("isReactor", function () {
  return assert(isReactor(reactor(f)));
}), test("reactor/next/value/isDone", async function () {
  var r;
  r = f();
  assert(1 === value((await next(r))));
  assert(2 === value((await next(r))));
  return assert(isDone((await next(r))));
})];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kYXZpZC9yZXBvcy9wYW5kYS1yaXZlci90ZXN0L3JlYWN0b3IuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLElBQUEsTUFBQSxFQUFBLENBQUE7QUFBQSxNQUFBLEdBQVMsT0FBQSxDQUFBLFFBQUEsQ0FBVDtBQUNBLFNBQUEsSUFBQSxRQUFBLE1BQUE7QUFDQSxTQUFBLFFBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLE1BQUEsUUFBQSxpQkFBQTtBQUNBLFNBQUEsU0FBQSxFQUFBLE9BQUEsRUFBQSxTQUFBLFFBQUEsZ0JBQUE7O0FBRUEsQ0FBQSxHQUFJLG1CQUFBO0FBQUcsTUFBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLENBQUE7QUFBUSxFQUFBLEdBQUEsR0FBQSxDQUFBLENBQUEsRUFBQSxDQUFBLENBQUE7QUFBQSxFQUFBLE9BQUEsR0FBQSxFQUFBOztBQUFBLGFBQUEsQ0FBQSxJQUFBLEdBQUEsRUFBQTtZQUFSLEksRUFBQSxNQUFBLEM7QUFBUTs7O0FBQVgsQ0FBSjs7QUFDQSxlQUFlLENBRWIsSUFBQSxDQUFBLFdBQUEsRUFBa0IsWUFBQTtTQUNoQixNQUFBLENBQU8sU0FBQSxDQUFVO0FBQUEsS0FBQyxNQUFNLENBQVAsYUFBQSxHQUF3QixZQUFBLENBQUE7QUFBeEIsR0FBVixDQUFQLEM7QUFIVyxDQUViLENBRmEsRUFLYixJQUFBLENBQUEsV0FBQSxFQUFrQixZQUFBO1NBQ2hCLE1BQUEsQ0FBTyxTQUFBLENBQVUsT0FBQSxDQUFqQixDQUFpQixDQUFWLENBQVAsQztBQU5XLENBS2IsQ0FMYSxFQVFiLElBQUEsQ0FBQSwyQkFBQSxFQUFrQyxrQkFBQTtBQUNoQyxNQUFBLENBQUE7QUFBQSxFQUFBLENBQUEsR0FBSSxDQUFBLEVBQUo7QUFDQSxFQUFBLE1BQUEsQ0FBTyxNQUFLLEtBQUEsRUFBTSxNQUFNLElBQUEsQ0FBeEIsQ0FBd0IsQ0FBWixFQUFaLENBQUE7QUFDQSxFQUFBLE1BQUEsQ0FBTyxNQUFLLEtBQUEsRUFBTSxNQUFNLElBQUEsQ0FBeEIsQ0FBd0IsQ0FBWixFQUFaLENBQUE7U0FDQSxNQUFBLENBQU8sTUFBQSxFQUFPLE1BQU0sSUFBQSxDQUFwQixDQUFvQixDQUFiLEVBQVAsQztBQVpXLENBUWIsQ0FSYSxDQUFmIiwic291cmNlc0NvbnRlbnQiOlsiYXNzZXJ0ID0gcmVxdWlyZSBcImFzc2VydFwiXG5pbXBvcnQge3Rlc3R9IGZyb20gXCJhbWVuXCJcbmltcG9ydCB7aXRlcmF0b3IsIG5leHQsIHZhbHVlLCBpc0RvbmV9IGZyb20gXCIuLi9zcmMvaXRlcmF0b3JcIlxuaW1wb3J0IHtpc1JlYWdlbnQsIHJlYWN0b3IsIGlzUmVhY3Rvcn0gZnJvbSBcIi4uL3NyYy9yZWFjdG9yXCJcblxuZiA9IC0+IHlpZWxkIHggZm9yIGF3YWl0IHggZnJvbSBbMS4uMl1cbmV4cG9ydCBkZWZhdWx0IFtcblxuICB0ZXN0IFwiaXNSZWFnZW50XCIsIC0+XG4gICAgYXNzZXJ0IGlzUmVhZ2VudCBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdOiAtPlxuXG4gIHRlc3QgXCJpc1JlYWN0b3JcIiwgLT5cbiAgICBhc3NlcnQgaXNSZWFjdG9yIHJlYWN0b3IgZlxuXG4gIHRlc3QgXCJyZWFjdG9yL25leHQvdmFsdWUvaXNEb25lXCIsIC0+XG4gICAgciA9IGYoKVxuICAgIGFzc2VydCAxID09IHZhbHVlIGF3YWl0IG5leHQgclxuICAgIGFzc2VydCAyID09IHZhbHVlIGF3YWl0IG5leHQgclxuICAgIGFzc2VydCBpc0RvbmUgYXdhaXQgbmV4dCByXG5cbl1cbiJdLCJzb3VyY2VSb290IjoiIn0=
//# sourceURL=/Users/david/repos/panda-river/test/reactor.coffee