"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isDone = exports.value = exports.next = exports.isIterator = exports.iterator = exports.isIterable = void 0;

var _pandaGarden = require("panda-garden");

var _pandaGenerics = _interopRequireDefault(require("panda-generics"));

var _pandaParchment = require("panda-parchment");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var create, define, isDone, isIterable, isIterator, iterator, next, value;
exports.value = value;
exports.next = next;
exports.iterator = iterator;
exports.isIterator = isIterator;
exports.isIterable = isIterable;
exports.isDone = isDone;
({
  create,
  define
} = _pandaGenerics.default);

exports.isIterable = isIterable = function (x) {
  return (0, _pandaParchment.isFunction)(x != null ? x[Symbol.iterator] : void 0) || (0, _pandaParchment.isGeneratorFunction)(x);
};

exports.isIterator = isIterator = function (x) {
  return (0, _pandaParchment.isFunction)(x != null ? x.next : void 0) && isIterable(x);
};

exports.iterator = iterator = create({
  name: "iterator",
  description: "produces an iterator from an input",
  default: "unable to create iterator from value"
});
define(iterator, _pandaParchment.isFunction, function (f) {
  return {
    next: f,
    [Symbol.iterator]: function () {
      return this;
    }
  };
});
define(iterator, isIterable, function (i) {
  return i[Symbol.iterator]();
});
define(iterator, _pandaParchment.isGeneratorFunction, function (g) {
  return g();
});
define(iterator, isIterator, function (i) {
  return i;
});

exports.next = next = function (i) {
  return i.next();
};

exports.value = value = function ({
  value
}) {
  return value;
};

exports.isDone = isDone = function ({
  done
}) {
  return done;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kYXZpZC9yZXBvcy9wYW5kYS1yaXZlci9zcmMvaXRlcmF0b3IuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUZBLElBQUEsTUFBQSxFQUFBLE1BQUEsRUFBQSxNQUFBLEVBQUEsVUFBQSxFQUFBLFVBQUEsRUFBQSxRQUFBLEVBQUEsSUFBQSxFQUFBLEtBQUE7Ozs7Ozs7QUFJQSxDQUFBO0FBQUEsRUFBQSxNQUFBO0FBQUEsRUFBQTtBQUFBLElBQUEsc0JBQUE7O0FBRUEscUJBQUEsVUFBQSxHQUFhLFVBQUEsQ0FBQSxFQUFBO1NBQ1YsZ0NBQUEsQ0FBQSxJQUFBLElBQUEsR0FBVyxDQUFHLENBQUEsTUFBTSxDQUFOLFFBQUEsQ0FBZCxHQUFjLEtBQWYsQ0FBQyxDQUFELElBQXFDLHlDQUFELENBQUMsQztBQUQxQixDQUFiOztBQUdBLHFCQUFBLFVBQUEsR0FBYSxVQUFBLENBQUEsRUFBQTtTQUFRLGdDQUFBLENBQUEsSUFBQSxJQUFBLEdBQVcsQ0FBQyxDQUFFLElBQWQsR0FBYyxLQUFmLENBQUMsQ0FBRCxJQUF5QixVQUFBLENBQUQsQ0FBQyxDO0FBQWhDLENBQWI7O0FBRUEsbUJBQUEsUUFBQSxHQUFXLE1BQUEsQ0FDVDtBQUFBLEVBQUEsSUFBQSxFQUFBLFVBQUE7QUFDQSxFQUFBLFdBQUEsRUFEQSxvQ0FBQTtBQUVBLEVBQUEsT0FBQSxFQUFTO0FBRlQsQ0FEUyxDQUFYO0FBS0EsTUFBQSxDQUFBLFFBQUEsRUFBQSwwQkFBQSxFQUE2QixVQUFBLENBQUEsRUFBQTtTQUMzQjtBQUFBLElBQUEsSUFBQSxFQUFBLENBQUE7QUFDQSxLQUFDLE1BQU0sQ0FBUCxRQUFBLEdBQW1CLFlBQUE7YUFBRyxJO0FBQUg7QUFEbkIsRztBQURGLENBQUEsQ0FBQTtBQUlBLE1BQUEsQ0FBQSxRQUFBLEVBQUEsVUFBQSxFQUE2QixVQUFBLENBQUEsRUFBQTtTQUFPLENBQUUsQ0FBQSxNQUFNLENBQVIsUUFBRSxDQUFGLEU7QUFBcEMsQ0FBQSxDQUFBO0FBRUEsTUFBQSxDQUFBLFFBQUEsRUFBQSxtQ0FBQSxFQUFzQyxVQUFBLENBQUEsRUFBQTtTQUFPLENBQUEsRTtBQUE3QyxDQUFBLENBQUE7QUFFQSxNQUFBLENBQUEsUUFBQSxFQUFBLFVBQUEsRUFBNkIsVUFBQSxDQUFBLEVBQUE7U0FBTyxDO0FBQXBDLENBQUEsQ0FBQTs7QUFFQSxlQUFBLElBQUEsR0FBTyxVQUFBLENBQUEsRUFBQTtTQUFPLENBQUMsQ0FBRCxJQUFBLEU7QUFBUCxDQUFQOztBQUNBLGdCQUFBLEtBQUEsR0FBUSxVQUFDO0FBQUQsRUFBQTtBQUFDLENBQUQsRUFBQTtTQUFhLEs7QUFBYixDQUFSOztBQUNBLGlCQUFBLE1BQUEsR0FBUyxVQUFDO0FBQUQsRUFBQTtBQUFDLENBQUQsRUFBQTtTQUFZLEk7QUFBWixDQUFUIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtpZGVudGl0eSwgY3Vycnl9IGZyb20gXCJwYW5kYS1nYXJkZW5cIlxuaW1wb3J0IE1ldGhvZCBmcm9tIFwicGFuZGEtZ2VuZXJpY3NcIlxuaW1wb3J0IHtpc0tpbmQsIGlzRnVuY3Rpb24sIGlzR2VuZXJhdG9yRnVuY3Rpb259IGZyb20gXCJwYW5kYS1wYXJjaG1lbnRcIlxuXG57Y3JlYXRlLCBkZWZpbmV9ID0gTWV0aG9kXG5cbmlzSXRlcmFibGUgPSAoeCkgLT5cbiAgKGlzRnVuY3Rpb24geD9bU3ltYm9sLml0ZXJhdG9yXSkgfHwgKGlzR2VuZXJhdG9yRnVuY3Rpb24geClcblxuaXNJdGVyYXRvciA9ICh4KSAtPiAoaXNGdW5jdGlvbiB4Py5uZXh0KSAmJiAoaXNJdGVyYWJsZSB4KVxuXG5pdGVyYXRvciA9IGNyZWF0ZVxuICBuYW1lOiBcIml0ZXJhdG9yXCJcbiAgZGVzY3JpcHRpb246IFwicHJvZHVjZXMgYW4gaXRlcmF0b3IgZnJvbSBhbiBpbnB1dFwiXG4gIGRlZmF1bHQ6IFwidW5hYmxlIHRvIGNyZWF0ZSBpdGVyYXRvciBmcm9tIHZhbHVlXCJcblxuZGVmaW5lIGl0ZXJhdG9yLCBpc0Z1bmN0aW9uLCAoZikgLT5cbiAgbmV4dDogZlxuICBbU3ltYm9sLml0ZXJhdG9yXTogLT4gQFxuXG5kZWZpbmUgaXRlcmF0b3IsIGlzSXRlcmFibGUsIChpKSAtPiBpW1N5bWJvbC5pdGVyYXRvcl0oKVxuXG5kZWZpbmUgaXRlcmF0b3IsIGlzR2VuZXJhdG9yRnVuY3Rpb24sIChnKSAtPiBnKClcblxuZGVmaW5lIGl0ZXJhdG9yLCBpc0l0ZXJhdG9yLCAoaSkgLT4gaVxuXG5uZXh0ID0gKGkpIC0+IGkubmV4dCgpXG52YWx1ZSA9ICh7dmFsdWV9KSAtPiB2YWx1ZVxuaXNEb25lID0gKHtkb25lfSkgLT4gZG9uZVxuXG5leHBvcnQge2lzSXRlcmFibGUsIGl0ZXJhdG9yLCBpc0l0ZXJhdG9yLCBuZXh0LCB2YWx1ZSwgaXNEb25lfVxuIl0sInNvdXJjZVJvb3QiOiIifQ==
//# sourceURL=/Users/david/repos/panda-river/src/iterator.coffee