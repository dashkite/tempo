"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.memoize = exports.given = exports.tee = exports.once = exports.negate = exports.apply = exports.ternary = exports.binary = exports.unary = exports.flow = exports.wait = exports.spread = exports.pipe = exports.compose = exports.flip = exports.partial = exports.substitute = exports._ = exports.curry = exports.wrap = exports.identity = exports.noOp = void 0;

var _,
    apply,
    binary,
    compose,
    curry,
    flip,
    flow,
    given,
    identity,
    memoize,
    negate,
    noOp,
    once,
    partial,
    pipe,
    spread,
    substitute,
    tee,
    ternary,
    unary,
    wait,
    wrap,
    splice = [].splice;

exports.wrap = wrap;
exports.wait = wait;
exports.unary = unary;
exports.ternary = ternary;
exports.tee = tee;
exports.substitute = substitute;
exports.spread = spread;
exports.pipe = pipe;
exports.partial = partial;
exports.once = once;
exports.noOp = noOp;
exports.negate = negate;
exports.memoize = memoize;
exports.identity = identity;
exports.given = given;
exports.flow = flow;
exports.flip = flip;
exports.curry = curry;
exports.compose = compose;
exports.binary = binary;
exports.apply = apply;
exports._ = _;

exports.noOp = noOp = function () {};

exports.identity = identity = function (x) {
  return x;
};

exports.wrap = wrap = function (x) {
  return function () {
    return x;
  };
};

exports.curry = curry = function (f) {
  var g;
  return g = function (...ax) {
    if (ax.length >= f.length) {
      return f(...ax);
    } else {
      switch (f.length - ax.length) {
        case 1:
          return function (x) {
            return f(...ax, x);
          };

        case 2:
          return binary(curry(function (x, y) {
            return f(...ax, x, y);
          }));

        case 3:
          return ternary(curry(function (x, y, z) {
            return f(...ax, x, y, z);
          }));

        default:
          return function (...bx) {
            return g(...ax, ...bx);
          };
      }
    }
  };
};

exports._ = _ = {};
exports.substitute = substitute = curry(function (ax, bx) {
  var a, i, j, len, results;
  i = 0;
  results = [];

  for (j = 0, len = ax.length; j < len; j++) {
    a = ax[j];

    if (a === _) {
      results.push(bx[i++]);
    } else {
      results.push(a);
    }
  }

  return results;
});

exports.partial = partial = function (f, ...ax) {
  return function (...bx) {
    return f(...substitute(ax, bx));
  };
};

exports.flip = flip = function (f) {
  switch (f.length) {
    case 1:
      return f;

    case 2:
      return function (y, x) {
        return f(x, y);
      };

    case 3:
      return function (z, y, x) {
        return f(x, y, z);
      };

    default:
      return function (...ax) {
        return f(...ax.reverse());
      };
  }
};

exports.compose = compose = function (...fx) {
  var f, g, ref;
  ref = fx, [...fx] = ref, [f] = splice.call(fx, -1);

  if (fx.length === 0) {
    return f;
  } else {
    g = compose(...fx);
    return function (...ax) {
      var fax, ref1;

      if (((ref1 = fax = f(...ax)) != null ? ref1.then : void 0) != null) {
        return fax.then(g);
      } else {
        return g(fax);
      }
    };
  }
};

exports.pipe = pipe = flip(compose);

exports.spread = spread = function (f) {
  return function (ax) {
    return f(...ax);
  };
};

exports.wait = wait = function (f) {
  return function (x) {
    if ((x != null ? x.then : void 0) != null) {
      return x.then(function (a) {
        return f(a);
      });
    } else {
      return f(x);
    }
  };
};

exports.flow = flow = function (...fx) {
  var ref;

  if (fx.length === 0) {
    return void 0;
  } else if (fx.length === 1 && fx[0] == null) {
    return void 0;
  } else if (fx.length === 1 && ((ref = fx[0]) != null ? ref[Symbol.iterator] : void 0) != null) {
    return flow(...fx[0]);
  } else {
    return function (...ax) {
      var g, gx, j, len, result, start;
      [start, ...gx] = fx;
      result = start(...ax);

      for (j = 0, len = gx.length; j < len; j++) {
        g = gx[j];
        result = wait(g)(result);
      }

      return result;
    };
  }
};

exports.unary = unary = function (f) {
  return function (x) {
    return f(x);
  };
};

exports.binary = binary = function (f) {
  return function (x, y) {
    return f(...arguments);
  };
};

exports.ternary = ternary = function (f) {
  return function (x, y, z) {
    return f(...arguments);
  };
};

exports.apply = apply = function (f, ...args) {
  return f(...args);
};

exports.negate = negate = function (f) {
  return function () {
    return !f(...arguments);
  };
};

exports.given = given = function (...args) {
  var f, ref;
  ref = args, [...args] = ref, [f] = splice.call(args, -1);
  return f(...args);
};

exports.tee = tee = function (f) {
  return function (a, ...bx) {
    var k, ref;

    if (((ref = k = f(a, ...bx)) != null ? ref.then : void 0) != null) {
      return k.then(function () {
        return a;
      });
    } else {
      return a;
    }
  };
};

exports.once = once = function (f) {
  return function (k) {
    return function () {
      if (k != null) {
        return k;
      } else {
        return k = f();
      }
    };
  }(void 0);
};

exports.memoize = memoize = function (f) {
  return function (cache) {
    return function (...args) {
      return cache[args] != null ? cache[args] : cache[args] = f(...args);
    };
  }({});
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kYXZpZC9yZXBvcy9wYW5kYS1nYXJkZW4vc3JjL2luZGV4LmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQSxDQUFBO0FBQUEsSUFBQSxLQUFBO0FBQUEsSUFBQSxNQUFBO0FBQUEsSUFBQSxPQUFBO0FBQUEsSUFBQSxLQUFBO0FBQUEsSUFBQSxJQUFBO0FBQUEsSUFBQSxJQUFBO0FBQUEsSUFBQSxLQUFBO0FBQUEsSUFBQSxRQUFBO0FBQUEsSUFBQSxPQUFBO0FBQUEsSUFBQSxNQUFBO0FBQUEsSUFBQSxJQUFBO0FBQUEsSUFBQSxJQUFBO0FBQUEsSUFBQSxPQUFBO0FBQUEsSUFBQSxJQUFBO0FBQUEsSUFBQSxNQUFBO0FBQUEsSUFBQSxVQUFBO0FBQUEsSUFBQSxHQUFBO0FBQUEsSUFBQSxPQUFBO0FBQUEsSUFBQSxLQUFBO0FBQUEsSUFBQSxJQUFBO0FBQUEsSUFBQSxJQUFBO0FBQUEsSUFBQSxNQUFBLEdBQUEsR0FBQSxNQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsZUFBQSxJQUFBLEdBQU8sWUFBQSxDQUFBLENBQVA7O0FBRUEsbUJBQUEsUUFBQSxHQUFXLFVBQUEsQ0FBQSxFQUFBO1NBQU8sQztBQUFQLENBQVg7O0FBRUEsZUFBQSxJQUFBLEdBQU8sVUFBQSxDQUFBLEVBQUE7U0FBTyxZQUFBO1dBQUcsQztBQUFILEc7QUFBUCxDQUFQOztBQUVBLGdCQUFBLEtBQUEsR0FBUSxVQUFBLENBQUEsRUFBQTtBQUNOLE1BQUEsQ0FBQTtTQUFBLENBQUEsR0FBSSxVQUFBLEdBQUEsRUFBQSxFQUFBO0FBQ0YsUUFBRyxFQUFFLENBQUYsTUFBQSxJQUFhLENBQUMsQ0FBakIsTUFBQSxFQUFBO2FBQ0UsQ0FBQSxDQUFFLEdBREosRUFDRSxDO0FBREYsS0FBQSxNQUFBO0FBR0UsY0FBTyxDQUFDLENBQUQsTUFBQSxHQUFXLEVBQUUsQ0FBcEIsTUFBQTtBQUFBLGFBQUEsQ0FBQTtpQkFDYyxVQUFB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aXR5ID0gKHgpIC0+IHhcblxud3JhcCA9ICh4KSAtPiAtPiB4XG5cbmN1cnJ5ID0gKGYpIC0+XG4gIGcgPSAoYXguLi4pIC0+XG4gICAgaWYgYXgubGVuZ3RoID49IGYubGVuZ3RoXG4gICAgICBmIGF4Li4uXG4gICAgZWxzZVxuICAgICAgc3dpdGNoIGYubGVuZ3RoIC0gYXgubGVuZ3RoXG4gICAgICAgIHdoZW4gMSB0aGVuICh4KSAtPiBmIGF4Li4uLCB4XG4gICAgICAgIHdoZW4gMiB0aGVuIGJpbmFyeSBjdXJyeSAoeCx5KSAtPiBmIGF4Li4uLCB4LCB5XG4gICAgICAgIHdoZW4gMyB0aGVuIHRlcm5hcnkgY3VycnkgKHgseSx6KSAtPiBmIGF4Li4uLCB4LCB5LCB6XG4gICAgICAgIGVsc2UgKGJ4Li4uKSAtPiBnIGF4Li4uLCBieC4uLlxuXG5fID0ge31cblxuc3Vic3RpdHV0ZSA9IGN1cnJ5IChheCwgYngpIC0+XG4gIGkgPSAwXG4gIGZvciBhIGluIGF4XG4gICAgaWYgYSA9PSBfXG4gICAgICBieFtpKytdXG4gICAgZWxzZVxuICAgICAgYVxuXG5wYXJ0aWFsID0gKGYsIGF4Li4uKSAtPlxuICAoYnguLi4pIC0+IGYgKHN1YnN0aXR1dGUgYXgsIGJ4KS4uLlxuXG5mbGlwID0gKGYpIC0+XG4gIHN3aXRjaCBmLmxlbmd0aFxuICAgIHdoZW4gMSB0aGVuIGZcbiAgICB3aGVuIDIgdGhlbiAoeSwgeCkgLT4gZih4LCB5KVxuICAgIHdoZW4gMyB0aGVuICh6LCB5LCB4KSAtPiBmKHgsIHksIHopXG4gICAgZWxzZSAoYXguLi4pIC0+IGYoYXgucmV2ZXJzZSgpLi4uKVxuXG5jb21wb3NlID0gKGZ4Li4uLCBmKSAtPlxuICBpZiBmeC5sZW5ndGggPT0gMFxuICAgIGZcbiAgZWxzZVxuICAgIGcgPSBjb21wb3NlIGZ4Li4uXG4gICAgKGF4Li4uKSAtPlxuICAgICAgaWYgKGZheCA9IGYgYXguLi4pPy50aGVuPyB0aGVuIChmYXgudGhlbiBnKSBlbHNlIChnIGZheClcblxucGlwZSA9IGZsaXAgY29tcG9zZVxuXG5zcHJlYWQgPSAoZikgLT4gKGF4KSAtPiBmIGF4Li4uXG5cbndhaXQgPSAoZikgLT4gKHgpIC0+IGlmIHg/LnRoZW4/IHRoZW4gKHgudGhlbiAoYSkgLT4gZiBhKSBlbHNlIChmIHgpXG5cbmZsb3cgPSAoZnguLi4pIC0+XG4gIGlmIGZ4Lmxlbmd0aCA9PSAwXG4gICAgdW5kZWZpbmVkXG4gIGVsc2UgaWYgZngubGVuZ3RoID09IDEgJiYgIWZ4WzBdP1xuICAgIHVuZGVmaW5lZFxuICBlbHNlIGlmIGZ4Lmxlbmd0aCA9PSAxICYmIGZ4WzBdP1tTeW1ib2wuaXRlcmF0b3JdP1xuICAgIGZsb3cgZnhbMF0uLi5cbiAgZWxzZVxuICAgIChheC4uLikgLT5cbiAgICAgIFtzdGFydCwgZ3guLi5dID0gZnhcbiAgICAgIHJlc3VsdCA9IHN0YXJ0IGF4Li4uXG4gICAgICByZXN1bHQgPSAod2FpdCBnKSByZXN1bHQgZm9yIGcgaW4gZ3hcbiAgICAgIHJlc3VsdFxuXG51bmFyeSA9IChmKSAtPiAoeCkgLT4gZih4KVxuXG5iaW5hcnkgPSAoZikgLT4gKHgseSkgLT4gZiBhcmd1bWVudHMuLi5cblxudGVybmFyeSA9IChmKSAtPiAoeCx5LHopIC0+IGYgYXJndW1lbnRzLi4uXG5cbmFwcGx5ID0gKGYsIGFyZ3MuLi4pIC0+IChmIGFyZ3MuLi4pXG5cbm5lZ2F0ZSA9IChmKSAtPiAtPiAhKGYgYXJndW1lbnRzLi4uKVxuXG5naXZlbiA9IChhcmdzLi4uLCBmKSAtPiBmIGFyZ3MuLi5cblxudGVlID0gKGYpIC0+XG4gIChhLCBieC4uLikgLT5cbiAgICBpZiAoayA9IChmIGEsIGJ4Li4uKSk/LnRoZW4/IHRoZW4gKGsudGhlbiAtPiBhKSBlbHNlIGFcblxub25jZSA9IChmKSAtPlxuICBkbyAoaz11bmRlZmluZWQpIC0+XG4gICAgLT4gaWYgaz8gdGhlbiBrIGVsc2UgKGsgPSBmKCkpXG5cbm1lbW9pemUgPSAoZikgLT5cbiAgZG8gKGNhY2hlPXt9KSAtPiAoYXJncy4uLikgLT4gY2FjaGVbYXJnc10gPz0gZiBhcmdzLi4uXG5cbmV4cG9ydCB7bm9PcCwgaWRlbnRpdHksIHdyYXAsIGN1cnJ5LCBfLCBzdWJzdGl0dXRlLFxuICBwYXJ0aWFsLCBmbGlwLCBjb21wb3NlLCBwaXBlLCBzcHJlYWQsIHdhaXQsIGZsb3csXG4gIHVuYXJ5LCBiaW5hcnksIHRlcm5hcnksXG4gIGFwcGx5LCBuZWdhdGUsIG9uY2UsIHRlZSwgZ2l2ZW4sIG1lbW9pemV9XG4iXSwic291cmNlUm9vdCI6IiJ9
//# sourceURL=/Users/david/repos/panda-garden/src/index.coffee