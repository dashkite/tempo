"use strict";

var _fs = _interopRequireWildcard(require("fs"));

var _path = require("path");

var _assert = _interopRequireDefault(require("assert"));

var _amen = require("amen");

var _pandaParchment = require("panda-parchment");

var _index = require("../src/index.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }

var testDirectory,
    indexOf = [].indexOf;
testDirectory = (0, _path.resolve)("test", "data");

(async function () {
  (0, _amen.print)((await (0, _amen.test)("Panda Quill", [(0, _amen.test)("isReadable", function () {
    return (0, _assert.default)((0, _index.isReadable)(process.stdin));
  }), (0, _amen.test)("isWritable", function () {
    return (0, _assert.default)((0, _index.isWritable)(process.stdout));
  }), (0, _amen.test)("stat", async function () {
    var info;
    info = await (0, _index.stat)((0, _path.join)(testDirectory, "lines.txt"));
    return (0, _assert.default)(info.mode != null && info.uid != null && info.gid != null && info.size != null && info.atime != null && info.mtime != null && info.ctime != null);
  }), (0, _amen.test)("exists", async function () {
    _assert.default.equal((await (0, _index.exists)((0, _path.join)(testDirectory, "lines.txt"))), true);

    return _assert.default.equal((await (0, _index.exists)((0, _path.join)(testDirectory, "does-not-exist"))), false);
  }), (0, _amen.test)("read", function () {
    var path, target;
    path = (0, _path.join)(testDirectory, "pandas.txt");
    target = "Pandas love bamboo.\n";
    return [(0, _amen.test)("files", async function () {
      return (0, _assert.default)((await (0, _index.read)(path)) === target);
    }), (0, _amen.test)("buffer", async function () {
      return (0, _assert.default)((await (0, _index.read)(path, "buffer")).toString() === target);
    }), (0, _amen.test)("streams", async function () {
      var stream;
      stream = _fs.default.createReadStream(path);
      return (0, _assert.default)((await (0, _index.read)(stream)) === target);
    })];
  }()), (0, _amen.test)("write", function () {
    return [(0, _amen.test)("string", async function () {
      var currentTime, path;
      path = (0, _path.join)(testDirectory, "time.txt");
      currentTime = Date.now().toString();
      await (0, _index.write)(path, currentTime);
      return (0, _assert.default)((await (0, _index.read)(path)) === currentTime);
    }), (0, _amen.test)("buffer", async function () {
      var path, sampleText;
      path = (0, _path.join)(testDirectory, "buffer.txt");
      sampleText = "Pandas love bamboo.";
      await (0, _index.write)(path, Buffer.from(sampleText));
      return (0, _assert.default)((await (0, _index.read)(path)) === sampleText);
    }), (0, _amen.test)("stream")];
  }()), (0, _amen.test)("readDir", async function () {
    var files;
    files = await (0, _index.readDir)(testDirectory);
    (0, _assert.default)(indexOf.call(files, "lines.txt") >= 0);
    return (0, _assert.default)(indexOf.call(files, "pandas.txt") >= 0);
  }), (0, _amen.test)("ls", async function () {
    var paths, ref, ref1;
    paths = await (0, _index.ls)(testDirectory);
    (0, _assert.default)((ref = (0, _path.join)(testDirectory, "lines.txt"), indexOf.call(paths, ref) >= 0));
    return (0, _assert.default)((ref1 = (0, _path.join)(testDirectory, "pandas.txt"), indexOf.call(paths, ref1) >= 0));
  }), (0, _amen.test)("lsR", async function () {
    var paths, ref, ref1, ref2;
    paths = await (0, _index.lsR)(testDirectory);
    (0, _assert.default)((ref = (0, _path.join)(testDirectory, "lines.txt"), indexOf.call(paths, ref) >= 0));
    (0, _assert.default)((ref1 = (0, _path.join)(testDirectory, "pandas.txt"), indexOf.call(paths, ref1) >= 0));
    return (0, _assert.default)((ref2 = (0, _path.join)(testDirectory, "lsr", "pandas.txt"), indexOf.call(paths, ref2) >= 0));
  }), (0, _amen.test)("rmR", function () {
    // minimal test here, just make sure fn is exported
    (0, _assert.default)((0, _pandaParchment.isFunction)(_index.rmr));
    return (0, _assert.default)((0, _pandaParchment.isFunction)(_index.rmR));
  }), (0, _amen.test)("glob", async function () {
    var paths, ref, ref1, ref2, ref3, ref4, ref5;
    paths = await (0, _index.glob)("**/*.txt", testDirectory);
    (0, _assert.default)((ref = (0, _path.join)(testDirectory, "lines.txt"), indexOf.call(paths, ref) >= 0));
    (0, _assert.default)((ref1 = (0, _path.join)(testDirectory, "pandas.txt"), indexOf.call(paths, ref1) >= 0));
    (0, _assert.default)((ref2 = (0, _path.join)(testDirectory, "lsr", "pandas.txt"), indexOf.call(paths, ref2) >= 0));
    paths = await (0, _index.glob)("data/*.txt", (0, _path.resolve)("test"));
    (0, _assert.default)((ref3 = (0, _path.join)(testDirectory, "lines.txt"), indexOf.call(paths, ref3) >= 0));
    (0, _assert.default)((ref4 = (0, _path.join)(testDirectory, "pandas.txt"), indexOf.call(paths, ref4) >= 0));
    return (0, _assert.default)(!(ref5 = (0, _path.join)(testDirectory, "lsr", "pandas.txt"), indexOf.call(paths, ref5) >= 0));
  }), (0, _amen.test)("chdir", function () {
    var cwd;
    cwd = process.cwd();
    return [(0, _amen.test)("with restore", function () {
      var restore;
      restore = (0, _index.chdir)(testDirectory);
      (0, _assert.default)(process.cwd() === testDirectory);
      (0, _assert.default)(restore.call != null);
      restore();
      return (0, _assert.default)(process.cwd() === cwd);
    }), (0, _amen.test)("with function", function () {
      var wd;
      wd = void 0;
      (0, _index.chdir)(testDirectory, function () {
        return wd = process.cwd();
      });
      (0, _assert.default)(wd === testDirectory);
      return (0, _assert.default)(process.cwd() === cwd);
    })];
  }()), (0, _amen.test)("mv", async function () {
    var from, to;
    from = (0, _path.join)(testDirectory, "mv", "pandas.txt");
    to = (0, _path.join)(testDirectory, "mv", "bamboo.txt"); // move from -> to

    await (0, _index.mv)(from, to);
    (0, _assert.default)(!(await (0, _index.exist)(from)));
    (0, _assert.default)((await (0, _index.exist)(to))); // now reverse it

    await (0, _index.mv)(to, from);
    (0, _assert.default)(!(await (0, _index.exist)(to)));
    return (0, _assert.default)((await (0, _index.exist)(from)));
  }), (0, _amen.test)("cp/rm", async function () {
    var from, to;
    from = (0, _path.join)(testDirectory, "pandas.txt");
    to = (0, _path.join)(testDirectory, "bamboo.txt"); // cp from -> to

    await (0, _index.cp)(from, to);
    (0, _assert.default)((await (0, _index.exist)(from)));
    (0, _assert.default)((await (0, _index.exist)(to))); // now reverse it

    await (0, _index.rm)(to);
    return (0, _assert.default)(!(await (0, _index.exist)(to)));
  }), (0, _amen.test)("mkDir/rmDir", async function () {
    var path;
    path = (0, _path.join)(testDirectory, "mkdir");
    await (0, _index.mkDir)("0777", path);
    (0, _assert.default)((await (0, _index.exist)(path)));
    await (0, _index.rmDir)(path);
    return (0, _assert.default)(!(await (0, _index.exist)(path)));
  }), (0, _amen.test)("mkDirP", async function () {
    var path;
    path = (0, _path.join)(testDirectory, "mkdirp", "nested");
    await (0, _index.mkDirP)("0777", path);
    (0, _assert.default)((await (0, _index.exist)(path))); // cleanup

    await (0, _index.rmDir)((0, _path.join)(testDirectory, "mkdirp", "nested"));
    await (0, _index.rmDir)((0, _path.join)(testDirectory, "mkdirp"));
    return (0, _assert.default)(!(await (0, _index.exist)(path)));
  }), (0, _amen.test)("isDirectory", async function () {
    var path;
    path = (0, _path.join)(testDirectory, "pandas.txt");
    (0, _assert.default)((await (0, _index.isDirectory)(testDirectory)));
    return (0, _assert.default)(!(await (0, _index.isDirectory)(path)));
  }), (0, _amen.test)("isFile", async function () {
    var path;
    path = (0, _path.join)(testDirectory, "pandas.txt");
    (0, _assert.default)((await (0, _index.isFile)(path)));
    return (0, _assert.default)(!(await (0, _index.isFile)(testDirectory)));
  }), (0, _amen.test)("abort", function () {
    return (0, _assert.default)((0, _pandaParchment.isFunction)(_index.abort));
  }), (0, _amen.test)("print", function () {
    return (0, _assert.default)((0, _pandaParchment.isFunction)(_index.print));
  }), (0, _amen.test)("run", async function () {
    return _assert.default.equal("hello", (await (0, _index.run)("bash -c 'echo -n hello'")).stdout);
  })])));
  return process.exit(_amen.success ? 0 : 1);
})();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kYXZpZC9yZXBvcy9wYW5kYS1xdWlsbC90ZXN0L2luZGV4LmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUVBOztBQUVBOzs7Ozs7QUFQQSxJQUFBLGFBQUE7QUFBQSxJQUFBLE9BQUEsR0FBQSxHQUFBLE9BQUE7QUFjQSxhQUFBLEdBQWdCLG1CQUFBLE1BQUEsRUFBQSxNQUFBLENBQWhCOztBQUVHLENBQUEsa0JBQUE7QUFFRCxvQkFBTyxNQUFNLGdCQUFBLGFBQUEsRUFBcUIsQ0FFaEMsZ0JBQUEsWUFBQSxFQUFtQixZQUFBO1dBQ2pCLHFCQUFPLHVCQUFXLE9BQU8sQ0FBekIsS0FBTyxDQUFQLEM7QUFIOEIsR0FFaEMsQ0FGZ0MsRUFLaEMsZ0JBQUEsWUFBQSxFQUFtQixZQUFBO1dBQ2pCLHFCQUFPLHVCQUFXLE9BQU8sQ0FBekIsTUFBTyxDQUFQLEM7QUFOOEIsR0FLaEMsQ0FMZ0MsRUFRaEMsZ0JBQUEsTUFBQSxFQUFhLGtCQUFBO0FBQ1gsUUFBQSxJQUFBO0FBQUEsSUFBQSxJQUFBLEdBQU8sTUFBTSxpQkFBSyxnQkFBQSxhQUFBLEVBQVgsV0FBVyxDQUFMLENBQWI7V0FDQSxxQkFBTyxJQUFBLENBQUEsSUFBQSxJQUFBLElBQUEsSUFBYyxJQUFBLENBQUEsR0FBQSxJQUFkLElBQUEsSUFBMkIsSUFBQSxDQUFBLEdBQUEsSUFBM0IsSUFBQSxJQUF3QyxJQUFBLENBQUEsSUFBQSxJQUF4QyxJQUFBLElBQ0wsSUFBQSxDQUFBLEtBQUEsSUFESyxJQUFBLElBQ1UsSUFBQSxDQUFBLEtBQUEsSUFEVixJQUFBLElBQ3lCLElBQUEsQ0FBQSxLQUFBLElBRGhDLElBQUEsQztBQVY4QixHQVFoQyxDQVJnQyxFQWFoQyxnQkFBQSxRQUFBLEVBQWUsa0JBQUE7QUFDYixvQkFBQSxLQUFBLEVBQWMsTUFBTSxtQkFBTyxnQkFBQSxhQUFBLEVBQTNCLFdBQTJCLENBQVAsQ0FBcEIsR0FBQSxJ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bUJBQWYsYUFBZSxDQUFSLENBQVAsQztBQXRLOEIsR0FtS2hDLENBbktnQyxFQXdLbEMsZ0JBQUEsT0FBQSxFQUFjLFlBQUE7V0FDWixxQkFBTyxnQ0FBUCxZQUFPLENBQVAsQztBQXpLZ0MsR0F3S2xDLENBeEtrQyxFQTJLbEMsZ0JBQUEsT0FBQSxFQUFjLFlBQUE7V0FDWixxQkFBTyxnQ0FBUCxZQUFPLENBQVAsQztBQTVLZ0MsR0EyS2xDLENBM0trQyxFQThLbEMsZ0JBQUEsS0FBQSxFQUFZLGtCQUFBO1dBQ1YsZ0JBQUEsS0FBQSxDQUFBLE9BQUEsRUFDRSxDQUFDLE1BQU0sZ0JBQVAseUJBQU8sQ0FBUCxFQURGLE1BQUEsQztBQS9LZ0MsR0E4S2xDLENBOUtrQyxDQUFyQixDQUFiO1NBb0xBLE9BQU8sQ0FBUCxJQUFBLENBQWEsZ0JBQUEsQ0FBQSxHQUFiLENBQUEsQztBQXRMRixDQUFHIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtjcmVhdGVSZWFkU3RyZWFtfSBmcm9tIFwiZnNcIlxuaW1wb3J0IHtyZXNvbHZlLCBqb2lufSBmcm9tIFwicGF0aFwiXG5pbXBvcnQgYXNzZXJ0IGZyb20gXCJhc3NlcnRcIlxuaW1wb3J0IHtwcmludCBhcyBfcHJpbnQsIHRlc3QsIHN1Y2Nlc3N9IGZyb20gXCJhbWVuXCJcbmltcG9ydCBmcyBmcm9tIFwiZnNcIlxuaW1wb3J0IHtpc0Z1bmN0aW9ufSBmcm9tIFwicGFuZGEtcGFyY2htZW50XCJcblxuaW1wb3J0IHtpc1JlYWRhYmxlLCBpc1dyaXRhYmxlLFxuICByZWFkLCB3cml0ZSwgcm0sIHN0YXQsIGV4aXN0LCBleGlzdHMsXG4gIGlzRmlsZSwgaXNEaXJlY3RvcnksIHJlYWRkaXIsIHJlYWREaXIsXG4gIGxzLCBsc1IsIGxzciwgZ2xvYiwgbWtkaXIsIG1rRGlyLCBta2RpcnAsIG1rRGlyUCxcbiAgY2hkaXIsIGNoRGlyLCBybWRpciwgcm1EaXIsIHJtUiwgcm1yLFxuICBjcCwgbXYsIHJ1biwgcHJpbnQsIGFib3J0fSBmcm9tIFwiLi4vc3JjL2luZGV4LmpzXCJcblxudGVzdERpcmVjdG9yeSA9IHJlc29sdmUgXCJ0ZXN0XCIsIFwiZGF0YVwiXG5cbmRvIC0+XG5cbiAgX3ByaW50IGF3YWl0IHRlc3QgXCJQYW5kYSBRdWlsbFwiLCAgW1xuXG4gICAgdGVzdCBcImlzUmVhZGFibGVcIiwgLT5cbiAgICAgIGFzc2VydCBpc1JlYWRhYmxlIHByb2Nlc3Muc3RkaW5cblxuICAgIHRlc3QgXCJpc1dyaXRhYmxlXCIsIC0+XG4gICAgICBhc3NlcnQgaXNXcml0YWJsZSBwcm9jZXNzLnN0ZG91dFxuXG4gICAgdGVzdCBcInN0YXRcIiwgLT5cbiAgICAgIGluZm8gPSBhd2FpdCBzdGF0IGpvaW4gdGVzdERpcmVjdG9yeSwgXCJsaW5lcy50eHRcIlxuICAgICAgYXNzZXJ0IGluZm8ubW9kZT8gJiYgaW5mby51aWQ/ICYmIGluZm8uZ2lkPyAmJiBpbmZvLnNpemU/ICYmXG4gICAgICAgIGluZm8uYXRpbWU/ICYmIGluZm8ubXRpbWU/ICYmIGluZm8uY3RpbWU/XG5cbiAgICB0ZXN0IFwiZXhpc3RzXCIsIC0+XG4gICAgICBhc3NlcnQuZXF1YWwgKGF3YWl0IGV4aXN0cyBqb2luIHRlc3REaXJlY3RvcnksIFwibGluZXMudHh0XCIpLCB0cnVlXG4gICAgICBhc3NlcnQuZXF1YWwgKGF3YWl0IGV4aXN0cyBqb2luIHRlc3REaXJlY3RvcnksIFwiZG9lcy1ub3QtZXhpc3RcIiksIGZhbHNlXG5cbiAgICB0ZXN0IFwicmVhZFwiLCBkbyAtPlxuXG4gICAgICBwYXRoID0gam9pbiB0ZXN0RGlyZWN0b3J5LCBcInBhbmRhcy50eHRcIlxuICAgICAgdGFyZ2V0ID0gXCJQYW5kYXMgbG92ZSBiYW1ib28uXFxuXCJcblxuICAgICAgW1xuICAgICAgICB0ZXN0IFwiZmlsZXNcIiwgLT5cbiAgICAgICAgICBhc3NlcnQgKGF3YWl0IHJlYWQgcGF0aCkgPT0gdGFyZ2V0XG5cbiAgICAgICAgdGVzdCBcImJ1ZmZlclwiLCAtPlxuICAgICAgICAgIGFzc2VydCAoYXdhaXQgcmVhZCBwYXRoLCBcImJ1ZmZlclwiKS50b1N0cmluZygpID09IHRhcmdldFxuXG4gICAgICAgIHRlc3QgXCJzdHJlYW1zXCIsIC0+XG4gICAgICAgICAgc3RyZWFtID0gZnMuY3JlYXRlUmVhZFN0cmVhbSBwYXRoXG4gICAgICAgICAgYXNzZXJ0IChhd2FpdCByZWFkIHN0cmVhbSkgPT0gdGFyZ2V0XG4gICAgICBdXG5cblxuICAgIHRlc3QgXCJ3cml0ZVwiLCBkbyAtPlxuXG4gICAgICBbXG5cbiAgICAgICAgdGVzdCBcInN0cmluZ1wiLCAtPlxuICAgICAgICAgIHBhdGggPSBqb2luIHRlc3REaXJlY3RvcnksIFwidGltZS50eHRcIlxuICAgICAgICAgIGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKS50b1N0cmluZygpXG4gICAgICAgICAgYXdhaXQgd3JpdGUgcGF0aCwgY3VycmVudFRpbWVcbiAgICAgICAgICBhc3NlcnQgKGF3YWl0IHJlYWQgcGF0aCkgPT0gY3VycmVudFRpbWVcblxuICAgICAgICB0ZXN0IFwiYnVmZmVyXCIsIC0+XG4gICAgICAgICAgcGF0aCA9IGpvaW4gdGVzdERpcmVjdG9yeSwgXCJidWZmZXIudHh0XCJcbiAgICAgICAgICBzYW1wbGVUZXh0ID0gXCJQYW5kYXMgbG92ZSBiYW1ib28uXCJcbiAgICAgICAgICBhd2FpdCB3cml0ZSBwYXRoLCBCdWZmZXIuZnJvbSBzYW1wbGVUZXh0XG4gICAgICAgICAgYXNzZXJ0IChhd2FpdCByZWFkIHBhdGgpID09IHNhbXBsZVRleHRcblxuICAgICAgICB0ZXN0IFwic3RyZWFtXCJcblxuICAgICAgXVxuXG4gICAgdGVzdCBcInJlYWREaXJcIiwgLT5cbiAgICAgIGZpbGVzID0gYXdhaXQgcmVhZERpciB0ZXN0RGlyZWN0b3J5XG4gICAgICBhc3NlcnQgXCJsaW5lcy50eHRcIiBpbiBmaWxlc1xuICAgICAgYXNzZXJ0IFwicGFuZGFzLnR4dFwiIGluIGZpbGVzXG5cbiAgICB0ZXN0IFwibHNcIiwgLT5cbiAgICAgIHBhdGhzID0gYXdhaXQgbHMgdGVzdERpcmVjdG9yeVxuICAgICAgYXNzZXJ0IChqb2luIHRlc3REaXJlY3RvcnksIFwibGluZXMudHh0XCIpIGluIHBhdGhzXG4gICAgICBhc3NlcnQgKGpvaW4gdGVzdERpcmVjdG9yeSwgXCJwYW5kYXMudHh0XCIpIGluIHBhdGhzXG5cbiAgICB0ZXN0IFwibHNSXCIsIC0+XG4gICAgICBwYXRocyA9IGF3YWl0IGxzUiB0ZXN0RGlyZWN0b3J5XG4gICAgICBhc3NlcnQgKGpvaW4gdGVzdERpcmVjdG9yeSwgXCJsaW5lcy50eHRcIikgaW4gcGF0aHNcbiAgICAgIGFzc2VydCAoam9pbiB0ZXN0RGlyZWN0b3J5LCBcInBhbmRhcy50eHRcIikgaW4gcGF0aHNcbiAgICAgIGFzc2VydCAoam9pbiB0ZXN0RGlyZWN0b3J5LCBcImxzclwiLCBcInBhbmRhcy50eHRcIikgaW4gcGF0aHNcblxuICAgIHRlc3QgXCJybVJcIiwgLT5cbiAgICAgICMgbWluaW1hbCB0ZXN0IGhlcmUsIGp1c3QgbWFrZSBzdXJlIGZuIGlzIGV4cG9ydGVkXG4gICAgICBhc3NlcnQgaXNGdW5jdGlvbiBybXJcbiAgICAgIGFzc2VydCBpc0Z1bmN0aW9uIHJtUlxuXG4gICAgdGVzdCBcImdsb2JcIiwgLT5cbiAgICAgICBwYXRocyA9IGF3YWl0IGdsb2IgXCIqKi8qLnR4dFwiLCB0ZXN0RGlyZWN0b3J5XG4gICAgICAgYXNzZXJ0IChqb2luIHRlc3REaXJlY3RvcnksIFwibGluZXMudHh0XCIpIGluIHBhdGhzXG4gICAgICAgYXNzZXJ0IChqb2luIHRlc3REaXJlY3RvcnksIFwicGFuZGFzLnR4dFwiKSBpbiBwYXRoc1xuICAgICAgIGFzc2VydCAoam9pbiB0ZXN0RGlyZWN0b3J5LCBcImxzclwiLCBcInBhbmRhcy50eHRcIikgaW4gcGF0aHNcblxuICAgICAgIHBhdGhzID0gYXdhaXQgZ2xvYiBcImRhdGEvKi50eHRcIiwgcmVzb2x2ZSBcInRlc3RcIlxuICAgICAgIGFzc2VydCAoam9pbiB0ZXN0RGlyZWN0b3J5LCBcImxpbmVzLnR4dFwiKSBpbiBwYXRoc1xuICAgICAgIGFzc2VydCAoam9pbiB0ZXN0RGlyZWN0b3J5LCBcInBhbmRhcy50eHRcIikgaW4gcGF0aHNcbiAgICAgICBhc3NlcnQgISgoam9pbiB0ZXN0RGlyZWN0b3J5LCBcImxzclwiLCBcInBhbmRhcy50eHRcIikgaW4gcGF0aHMpXG5cbiAgICB0ZXN0IFwiY2hkaXJcIiwgZG8gLT5cblxuICAgICAgY3dkID0gcHJvY2Vzcy5jd2QoKVxuXG4gICAgICBbXG5cbiAgICAgICAgdGVzdCBcIndpdGggcmVzdG9yZVwiLCAtPlxuICAgICAgICAgIHJlc3RvcmUgPSBjaGRpciB0ZXN0RGlyZWN0b3J5XG4gICAgICAgICAgYXNzZXJ0IHByb2Nlc3MuY3dkKCkgPT0gdGVzdERpcmVjdG9yeVxuICAgICAgICAgIGFzc2VydCByZXN0b3JlLmNhbGw/XG4gICAgICAgICAgcmVzdG9yZSgpXG4gICAgICAgICAgYXNzZXJ0IHByb2Nlc3MuY3dkKCkgPT0gY3dkXG5cbiAgICAgICAgdGVzdCBcIndpdGggZnVuY3Rpb25cIiwgLT5cbiAgICAgICAgICB3ZCA9IHVuZGVmaW5lZFxuICAgICAgICAgIGNoZGlyIHRlc3REaXJlY3RvcnksIC0+IHdkID0gcHJvY2Vzcy5jd2QoKVxuICAgICAgICAgIGFzc2VydCB3ZCA9PSB0ZXN0RGlyZWN0b3J5XG4gICAgICAgICAgYXNzZXJ0IHByb2Nlc3MuY3dkKCkgPT0gY3dkXG5cbiAgICAgIF1cblxuICAgIHRlc3QgXCJtdlwiLCAtPlxuXG4gICAgICBmcm9tID0gam9pbiB0ZXN0RGlyZWN0b3J5LCBcIm12XCIsIFwicGFuZGFzLnR4dFwiXG4gICAgICB0byA9IGpvaW4gdGVzdERpcmVjdG9yeSwgXCJtdlwiLCBcImJhbWJvby50eHRcIlxuXG4gICAgICAjIG1vdmUgZnJvbSAtPiB0b1xuICAgICAgYXdhaXQgbXYgZnJvbSwgdG9cbiAgICAgIGFzc2VydCAhKGF3YWl0IGV4aXN0IGZyb20pXG4gICAgICBhc3NlcnQgYXdhaXQgZXhpc3QgdG9cblxuICAgICAgIyBub3cgcmV2ZXJzZSBpdFxuICAgICAgYXdhaXQgbXYgdG8sIGZyb21cbiAgICAgIGFzc2VydCAhKGF3YWl0IGV4aXN0IHRvKVxuICAgICAgYXNzZXJ0IGF3YWl0IGV4aXN0IGZyb21cblxuICAgIHRlc3QgXCJjcC9ybVwiLCAtPlxuXG4gICAgICBmcm9tID0gam9pbiB0ZXN0RGlyZWN0b3J5LCBcInBhbmRhcy50eHRcIlxuICAgICAgdG8gPSBqb2luIHRlc3REaXJlY3RvcnksIFwiYmFtYm9vLnR4dFwiXG5cbiAgICAgICMgY3AgZnJvbSAtPiB0b1xuICAgICAgYXdhaXQgY3AgZnJvbSwgdG9cbiAgICAgIGFzc2VydCBhd2FpdCBleGlzdCBmcm9tXG4gICAgICBhc3NlcnQgYXdhaXQgZXhpc3QgdG9cblxuICAgICAgIyBub3cgcmV2ZXJzZSBpdFxuICAgICAgYXdhaXQgcm0gdG9cbiAgICAgIGFzc2VydCAhKGF3YWl0IGV4aXN0IHRvKVxuXG4gICAgdGVzdCBcIm1rRGlyL3JtRGlyXCIsIC0+XG5cbiAgICAgIHBhdGggPSBqb2luIHRlc3REaXJlY3RvcnksIFwibWtkaXJcIlxuICAgICAgYXdhaXQgbWtEaXIgXCIwNzc3XCIsIHBhdGhcblxuICAgICAgYXNzZXJ0IGF3YWl0IGV4aXN0IHBhdGhcblxuICAgICAgYXdhaXQgcm1EaXIgcGF0aFxuICAgICAgYXNzZXJ0ICEoYXdhaXQgZXhpc3QgcGF0aClcblxuXG4gICAgdGVzdCBcIm1rRGlyUFwiLCAtPlxuICAgICAgcGF0aCA9IGpvaW4gdGVzdERpcmVjdG9yeSwgXCJta2RpcnBcIiwgXCJuZXN0ZWRcIlxuICAgICAgYXdhaXQgbWtEaXJQIFwiMDc3N1wiLCBwYXRoXG4gICAgICBhc3NlcnQgYXdhaXQgZXhpc3QgcGF0aFxuXG4gICAgICAjIGNsZWFudXBcbiAgICAgIGF3YWl0IHJtRGlyIGpvaW4gdGVzdERpcmVjdG9yeSwgXCJta2RpcnBcIiwgXCJuZXN0ZWRcIlxuICAgICAgYXdhaXQgcm1EaXIgam9pbiB0ZXN0RGlyZWN0b3J5LCBcIm1rZGlycFwiXG4gICAgICBhc3NlcnQgIShhd2FpdCBleGlzdCBwYXRoKVxuXG4gICAgdGVzdCBcImlzRGlyZWN0b3J5XCIsIC0+XG4gICAgICBwYXRoID0gam9pbiB0ZXN0RGlyZWN0b3J5LCBcInBhbmRhcy50eHRcIlxuICAgICAgYXNzZXJ0IGF3YWl0IGlzRGlyZWN0b3J5IHRlc3REaXJlY3RvcnlcbiAgICAgIGFzc2VydCAhKGF3YWl0IGlzRGlyZWN0b3J5IHBhdGgpXG5cbiAgICB0ZXN0IFwiaXNGaWxlXCIsIC0+XG4gICAgICBwYXRoID0gam9pbiB0ZXN0RGlyZWN0b3J5LCBcInBhbmRhcy50eHRcIlxuICAgICAgYXNzZXJ0IGF3YWl0IGlzRmlsZSBwYXRoXG4gICAgICBhc3NlcnQgIShhd2FpdCBpc0ZpbGUgdGVzdERpcmVjdG9yeSlcblxuICB0ZXN0IFwiYWJvcnRcIiwgLT5cbiAgICBhc3NlcnQgaXNGdW5jdGlvbiBhYm9ydFxuXG4gIHRlc3QgXCJwcmludFwiLCAtPlxuICAgIGFzc2VydCBpc0Z1bmN0aW9uIHByaW50XG5cbiAgdGVzdCBcInJ1blwiLCAtPlxuICAgIGFzc2VydC5lcXVhbCBcImhlbGxvXCIsXG4gICAgICAoYXdhaXQgcnVuIFwiYmFzaCAtYyAnZWNobyAtbiBoZWxsbydcIikuc3Rkb3V0XG5cbiAgXVxuXG4gIHByb2Nlc3MuZXhpdCBpZiBzdWNjZXNzIHRoZW4gMCBlbHNlIDFcbiJdLCJzb3VyY2VSb290IjoiIn0=
//# sourceURL=/Users/david/repos/panda-quill/test/index.coffee