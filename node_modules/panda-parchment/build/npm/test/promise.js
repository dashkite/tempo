"use strict";

var _assert = _interopRequireDefault(require("assert"));

var _amen = require("amen");

var _promise = require("../src/promise");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(async function () {
  return (0, _amen.print)((await (0, _amen.test)("promise helpers", [(0, _amen.test)("promise", function () {
    return (0, _assert.default)((0, _promise.promise)(function () {}).then != null);
  }), (0, _amen.test)("resolve/follow", function () {
    return (0, _assert.default)(function () {
      return (0, _promise.resolve)("foo");
    }().then != null);
  }), (0, _amen.test)("resolve", async function () {
    var e;

    try {
      await function () {
        return (0, _promise.reject)(new Error("this is a test"));
      }();
      return _assert.default.fail("the function should have rejected.");
    } catch (error) {
      e = error;
      return (0, _assert.default)(e.message === "this is a test");
    }
  }), (0, _amen.test)("all", async function () {
    var A;
    A = await (0, _promise.all)([(0, _promise.resolve)(1), (0, _promise.resolve)(2), (0, _promise.resolve)(3)]);
    return _assert.default.deepEqual(A, [1, 2, 3]);
  })])));
})();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kYXZpZC9yZXBvcy9wYW5kYS1wYXJjaG1lbnQvdGVzdC9wcm9taXNlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUVBOzs7O0FBRUcsQ0FBQSxrQkFBQTtTQUFHLGtCQUFNLE1BQU0sZ0JBQUEsaUJBQUEsRUFBd0IsQ0FFeEMsZ0JBQUEsU0FBQSxFQUFnQixZQUFBO1dBQ2QscUJBQU8sc0JBQUEsWUFBQSxDQUFBLENBQUEsQ0FBQSxDQUFBLElBQUEsSUFBUCxJQUFBLEM7QUFIc0MsR0FFeEMsQ0FGd0MsRUFLeEMsZ0JBQUEsZ0JBQUEsRUFBdUIsWUFBQTtXQUNyQixxQkFBTyxZQUFBOztLQUFBLEVBQUEsQyxJQUFBLElBQVAsSUFBQSxDO0FBTnNDLEdBS3hDLENBTHdDLEVBUXhDLGdCQUFBLFNBQUEsRUFBZ0Isa0JBQUE7QUFDZCxRQUFBLENBQUE7O0FBQUEsUUFBQTtBQUNFLFlBQVMsWUFBQTtlQUFHLHFCQUFPLElBQUEsS0FBQSxDQUFQLGdCQUFPLENBQVAsQztBQUFOLE9BQUcsRUFBVDthQUNBLGdCQUFBLElBQUEsQ0FGRixvQ0FFRSxDO0FBRkYsS0FBQSxDQUFBLE9BQUEsS0FBQSxFQUFBO0FBR00sTUFBQSxDQUFBLEdBQUEsS0FBQTthQUNKLHFCQUFPLENBQUMsQ0FBRCxPQUFBLEtBSlQsZ0JBSUUsQzs7QUFib0MsR0FReEMsQ0FSd0MsRUFleEMsZ0JBQUEsS0FBQSxFQUFZLGtCQUFBO0FBQ1YsUUFBQSxDQUFBO0FBQUEsSUFBQSxDQUFBLEdBQUksTUFBTSxrQkFBSSxDQUFFLHNCQUFGLENBQUUsQ0FBRixFQUFlLHNCQUFmLENBQWUsQ0FBZixFQUE0QixzQkFBdEMsQ0FBc0MsQ0FBNUIsQ0FBSixDQUFWO1dBQ0EsZ0JBQUEsU0FBQSxDQUFBLENBQUEsRUFBb0IsQ0FBQSxDQUFBLEVBQUEsQ0FBQSxFQUFwQixDQUFvQixDQUFwQixDO0FBakJzQyxHQWV4QyxDQWZ3QyxDQUF4QixDQUFaLEU7QUFBTixDQUFHIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFzc2VydCBmcm9tIFwiYXNzZXJ0XCJcbmltcG9ydCB7dGVzdCwgcHJpbnR9IGZyb20gXCJhbWVuXCJcblxuaW1wb3J0IHtwcm9taXNlLCByZXNvbHZlLCByZWplY3QsIGFsbH0gZnJvbSBcIi4uL3NyYy9wcm9taXNlXCJcblxuZG8gLT4gcHJpbnQgYXdhaXQgdGVzdCBcInByb21pc2UgaGVscGVyc1wiLCBbXG5cbiAgdGVzdCBcInByb21pc2VcIiwgLT5cbiAgICBhc3NlcnQgKHByb21pc2UgLT4pLnRoZW4/XG5cbiAgdGVzdCBcInJlc29sdmUvZm9sbG93XCIsIC0+XG4gICAgYXNzZXJ0IChkbyAtPiByZXNvbHZlIFwiZm9vXCIpLnRoZW4/XG5cbiAgdGVzdCBcInJlc29sdmVcIiwgLT5cbiAgICB0cnlcbiAgICAgIGF3YWl0IGRvIC0+IHJlamVjdCBuZXcgRXJyb3IgXCJ0aGlzIGlzIGEgdGVzdFwiXG4gICAgICBhc3NlcnQuZmFpbCBcInRoZSBmdW5jdGlvbiBzaG91bGQgaGF2ZSByZWplY3RlZC5cIlxuICAgIGNhdGNoIGVcbiAgICAgIGFzc2VydCBlLm1lc3NhZ2UgPT0gXCJ0aGlzIGlzIGEgdGVzdFwiXG5cbiAgdGVzdCBcImFsbFwiLCAtPlxuICAgIEEgPSBhd2FpdCBhbGwgWyhyZXNvbHZlIDEpLCAocmVzb2x2ZSAyKSwgKHJlc29sdmUgMyldXG4gICAgYXNzZXJ0LmRlZXBFcXVhbCBBLCBbMSwgMiwgM11cblxuXVxuIl0sInNvdXJjZVJvb3QiOiIifQ==
//# sourceURL=/Users/david/repos/panda-parchment/test/promise.coffee